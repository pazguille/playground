<script>
    // Callback function
    var callback; 

    // This function is called onload in the popup code
    function getPageInfo(c){ 
        callback = c;
        // Inject the content script into the current page 
        chrome.tabs.executeScript(null, { file: "content_script.js" }); 
    }; 

    // Perform the callback when a request is received from the content script
    chrome.extension.onRequest.addListener(function(request){ 
        // Call the callback function
        callback(request);
    });
</script>